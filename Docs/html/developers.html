

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Developers’ section &mdash; Documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DispaSET package" href="DispaSET.html" />
    <link rel="prev" title="Case Studies" href="cases.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> DispaSET
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="formulations.html">Model Formulations and clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation.html">Implementation and interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Input Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="cases.html">Case Studies</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developers’ section</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#folders-organization">Folders organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#math-equations-in-the-docs">Math equations in the Docs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-autodoc">Using Autodoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clone-git-repository-to-svn">Clone git repository to svn</a></li>
<li class="toctree-l2"><a class="reference internal" href="#issue-with-the-compilation-of-the-gams-api">Issue with the compilation of the GAMS API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#public-version-of-dispa-set">Public version of Dispa-SET</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="DispaSET.html">DispaSET package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DispaSET</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Developers’ section</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/developers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="developers-section">
<span id="developers"></span><h1>Developers’ section<a class="headerlink" href="#developers-section" title="Permalink to this headline">¶</a></h1>
<div class="section" id="folders-organization">
<h2>Folders organization<a class="headerlink" href="#folders-organization" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>GAMS code and scripts are included within the “GAMS-files” folder. The code should only be modified in that folder!</li>
<li>Python code and scripts are included within the “DispaSET” folder.</li>
<li>DispaSET configuration files are included within the “ConfigFiles” folder (one file per simulation).</li>
<li>Input files for each country are stored in the “Database” folder</li>
<li>Simulation directories can be written into the “Simulations” folder, which is not tracked by git</li>
</ul>
<p>A sample Simulation Environment Folder is available at SimulationReferenceTestCase. The files in this folders are generated automatically by the pre-processing scripts. They should not be modified. The folder should be replaced and updated at every major Dispa-SET release.</p>
<p>By default, the pre-processing scripts are set to generate the simulation environment within the “Simulations” folder. This folder is excluded in .gitignore and can therefore be used for testing purposes.</p>
</div>
<div class="section" id="math-equations-in-the-docs">
<h2>Math equations in the Docs<a class="headerlink" href="#math-equations-in-the-docs" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">To use online mathjax (default), there is nothing to do but displaying the equation requires an internet connection. In linux, the Makefile call to build with mathjax is written:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$(SPHINXBUILD) -b html $(ALLSPHINXOPTS) $(BUILDDIR)/html

In conf.py, the only math equation should be: &#39;sphinx.ext.mathjax&#39;
</pre></div>
</div>
</li>
<li><p class="first">To use pngmath (for Linux):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sudo apt-get install dvipng

In conf.py, add &#39;sphinx.ext.pngmath&#39; in the extensions

in Makefile: $(SPHINXBUILD) -D pngmath_latex=latex -b html $(ALLSPHINXOPTS) $(BUILDDIR)/html
</pre></div>
</div>
</li>
<li><p class="first">To use mathjax in offline mode, download the latest release from the mathjax github, copy it to Docs/_static/, and include it in the conf.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mathjax_path</span> <span class="o">=</span> <span class="s2">&quot;Mathjax/MathJax.js&quot;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="using-autodoc">
<h2>Using Autodoc<a class="headerlink" href="#using-autodoc" title="Permalink to this headline">¶</a></h2>
<p>The “API” section of the Docs uses uses the sphinx autodoc extension to scan the source code of Dispa-SET and display the relevant functions together with their description, parameters and outputs.
In the Sphinx “conf.py”, the path to the source file must be added:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;../DispaSET&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>If the API documentation is generated with sphinx-apidoc, from the Docs folder, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx</span><span class="o">-</span><span class="n">apidoc</span> <span class="o">-</span><span class="n">o</span> <span class="o">.</span> <span class="o">../</span><span class="n">DispaSET</span><span class="o">/</span>
</pre></div>
</div>
<p>Add a link to “DispaSET” in the table of content of index.rst and include the root folder in conf.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;../&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="clone-git-repository-to-svn">
<h2>Clone git repository to svn<a class="headerlink" href="#clone-git-repository-to-svn" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Install git svn</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">git</span><span class="o">-</span><span class="n">svn</span>
</pre></div>
</div>
</li>
<li><p class="first">Create svn branch</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="n">svn</span>
</pre></div>
</div>
</li>
<li><p class="first">Connect to svn repository</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">svn</span> <span class="n">init</span> <span class="o">-</span><span class="n">s</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=</span><span class="n">svn</span><span class="o">/</span> <span class="o">--</span><span class="n">username</span> <span class="o">&lt;</span><span class="n">user</span><span class="o">&gt;</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">joinup</span><span class="o">.</span><span class="n">ec</span><span class="o">.</span><span class="n">europa</span><span class="o">.</span><span class="n">eu</span><span class="o">/</span><span class="n">svn</span><span class="o">/</span><span class="n">dispaset</span>
</pre></div>
</div>
</li>
<li><p class="first">Checkout svn banch</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">svn</span>
</pre></div>
</div>
</li>
<li><p class="first">Fetch remote content</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">svn</span> <span class="n">fetch</span>
</pre></div>
</div>
</li>
<li><p class="first">Reset repository</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">remotes</span><span class="o">/</span><span class="n">svn</span><span class="o">/</span><span class="n">trunk</span>
</pre></div>
</div>
</li>
<li><p class="first">Merge master into svn</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">merge</span> <span class="n">master</span>
</pre></div>
</div>
</li>
<li><p class="first">Commit to the remote repository</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">svn</span> <span class="n">dcommit</span>
</pre></div>
</div>
</li>
</ul>
<p>The folder can finally optionally be deleted to avoid any confusion.</p>
</div>
<div class="section" id="issue-with-the-compilation-of-the-gams-api">
<h2>Issue with the compilation of the GAMS API<a class="headerlink" href="#issue-with-the-compilation-of-the-gams-api" title="Permalink to this headline">¶</a></h2>
<p>First, check that the installed version of GAMS is the 64 bit. 32 bit versions tend to generated compatibility issues.</p>
<p>When the pre-compiled libraries do not work, they must be re-compiled from the GAMS apifile folder. In Windows, this generally raises the issue of the missing vcvarsall.bat file. If the issue persists after installing the Microsoft C++ compiler for Python 2.7, try the following:</p>
<ol class="arabic simple">
<li>Enter MSVC for Python command prompt</li>
<li>SET DISTUTILS_USE_SDK=1</li>
<li>SET MSSdk=1</li>
<li>python.exe gdxsetup.py install</li>
</ol>
</div>
<div class="section" id="public-version-of-dispa-set">
<h2>Public version of Dispa-SET<a class="headerlink" href="#public-version-of-dispa-set" title="Permalink to this headline">¶</a></h2>
<p>Because some input files are subject to intellectual property and copyrights, some folders available on the private repository cannot by uploaded to the public GitHub repository. The script DispaSync.sh in the root folder has been written to synchronize the subset of publicly available folders and files with an external folder. This folder can then be committed and pushed to the public repository.</p>
<p>By default, all file and folders are synchronized. In order to add a private path (to a file or to a folder), edit the DispaSync.sh file and add an entry to the “–exclude” argument.</p>
<p>The “rsync” software is required for the synchronization and must be installed on the local machine. The script can be run in any UNIX terminal (i.e. it cannot be run in Windows).</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="DispaSET.html" class="btn btn-neutral float-right" title="DispaSET package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cases.html" class="btn btn-neutral" title="Case Studies" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Sylvain Quoilin &amp; Kostas Kavvadias

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>