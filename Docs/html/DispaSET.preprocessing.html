

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DispaSET.preprocessing package &mdash; Documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DispaSET.pyomo package" href="DispaSET.pyomo.html" />
    <link rel="prev" title="DispaSET.postprocessing package" href="DispaSET.postprocessing.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> DispaSET
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="formulations.html">Model Formulations and clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation.html">Implementation and interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Input Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="cases.html">Case Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developers’ section</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="DispaSET.html">DispaSET package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="DispaSET.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="DispaSET.misc.html">DispaSET.misc package</a></li>
<li class="toctree-l3"><a class="reference internal" href="DispaSET.postprocessing.html">DispaSET.postprocessing package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">DispaSET.preprocessing package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-DispaSET.preprocessing.data_check">DispaSET.preprocessing.data_check module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-DispaSET.preprocessing.data_handler">DispaSET.preprocessing.data_handler module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-DispaSET.preprocessing.preprocessing">DispaSET.preprocessing.preprocessing module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-DispaSET.preprocessing.utils">DispaSET.preprocessing.utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-DispaSET.preprocessing">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="DispaSET.pyomo.html">DispaSET.pyomo package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="DispaSET.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="DispaSET.html#module-DispaSET.solve">DispaSET.solve module</a></li>
<li class="toctree-l2"><a class="reference internal" href="DispaSET.html#module-DispaSET">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DispaSET</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="DispaSET.html">DispaSET package</a> &raquo;</li>
        
      <li>DispaSET.preprocessing package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/DispaSET.preprocessing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dispaset-preprocessing-package">
<h1>DispaSET.preprocessing package<a class="headerlink" href="#dispaset-preprocessing-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-DispaSET.preprocessing.data_check">
<span id="dispaset-preprocessing-data-check-module"></span><h2>DispaSET.preprocessing.data_check module<a class="headerlink" href="#module-DispaSET.preprocessing.data_check" title="Permalink to this headline">¶</a></h2>
<p>This files gathers different functions used in the DispaSET to check the input
data</p>
<p>__author__ = ‘Sylvain Quoilin (<a class="reference external" href="mailto:sylvain&#46;quoilin&#37;&#52;&#48;ec&#46;europa&#46;eu">sylvain<span>&#46;</span>quoilin<span>&#64;</span>ec<span>&#46;</span>europa<span>&#46;</span>eu</a>)’</p>
<dl class="function">
<dt id="DispaSET.preprocessing.data_check.check_AvailabilityFactors">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">check_AvailabilityFactors</code><span class="sig-paren">(</span><em>plants</em>, <em>AF</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#check_AvailabilityFactors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.check_AvailabilityFactors" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that checks the validity of the provided availability factors and warns
if a default value of 100% is used.</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.check_MinMaxFlows">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">check_MinMaxFlows</code><span class="sig-paren">(</span><em>df_min</em>, <em>df_max</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#check_MinMaxFlows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.check_MinMaxFlows" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that checks that there is no incompatibility between the minimum and maximum flows</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.check_chp">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">check_chp</code><span class="sig-paren">(</span><em>config</em>, <em>plants</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#check_chp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.check_chp" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that checks the CHP plant characteristics</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.check_clustering">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">check_clustering</code><span class="sig-paren">(</span><em>plants</em>, <em>plants_merged</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#check_clustering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.check_clustering" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that checks that the installed capacities are still equal after the clustering process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>plants</strong> – Non-clustered list of units</li>
<li><strong>plants_merged</strong> – clustered list of units</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.check_df">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">check_df</code><span class="sig-paren">(</span><em>df</em>, <em>StartDate=None</em>, <em>StopDate=None</em>, <em>name=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#check_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.check_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that check the time series provided as inputs</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.check_heat_demand">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">check_heat_demand</code><span class="sig-paren">(</span><em>plants</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#check_heat_demand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.check_heat_demand" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that checks the validity of the heat demand profiles</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>plants</strong> – List of CHP plants</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.check_simulation_environment">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">check_simulation_environment</code><span class="sig-paren">(</span><em>SimulationPath</em>, <em>store_type='pickle'</em>, <em>firstline=7</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#check_simulation_environment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.check_simulation_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to test the validity of disapset inputs
:param SimulationPath:          Path to the simulation folder
:param store_type:              choose between: “list”, “excel”, “pickle”
:param firstline:               Number of the first line in the data (only if type==’excel’)</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.check_sto">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">check_sto</code><span class="sig-paren">(</span><em>config</em>, <em>plants</em>, <em>raw_data=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#check_sto"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.check_sto" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that checks the storage plant characteristics</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.check_units">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">check_units</code><span class="sig-paren">(</span><em>config</em>, <em>plants</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#check_units"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.check_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that checks the power plant characteristics</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.isStorage">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">isStorage</code><span class="sig-paren">(</span><em>tech</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#isStorage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.isStorage" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that returns true the technology is a storage technology</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_check.isVRE">
<code class="descclassname">DispaSET.preprocessing.data_check.</code><code class="descname">isVRE</code><span class="sig-paren">(</span><em>tech</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_check.html#isVRE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_check.isVRE" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that returns true the technology is a variable renewable energy technology</p>
</dd></dl>

</div>
<div class="section" id="module-DispaSET.preprocessing.data_handler">
<span id="dispaset-preprocessing-data-handler-module"></span><h2>DispaSET.preprocessing.data_handler module<a class="headerlink" href="#module-DispaSET.preprocessing.data_handler" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="DispaSET.preprocessing.data_handler.NodeBasedTable">
<code class="descclassname">DispaSET.preprocessing.data_handler.</code><code class="descname">NodeBasedTable</code><span class="sig-paren">(</span><em>path</em>, <em>idx</em>, <em>countries</em>, <em>tablename=''</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_handler.html#NodeBasedTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_handler.NodeBasedTable" title="Permalink to this definition">¶</a></dt>
<dd><p>This function loads the tabular data stored in csv files relative to each
zone (a.k.a node, country) of the simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> – Path to the data to be loaded</li>
<li><strong>idx</strong> – Pandas datetime index to be used for the output</li>
<li><strong>countries</strong> – List with the country codes to be considered</li>
<li><strong>fallback</strong> – List with the order of data source.</li>
<li><strong>tablename</strong> – String with the name of the table being processed</li>
<li><strong>default</strong> – Default value to be applied if no data is found</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Dataframe with the time series for each unit</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_handler.UnitBasedTable">
<code class="descclassname">DispaSET.preprocessing.data_handler.</code><code class="descname">UnitBasedTable</code><span class="sig-paren">(</span><em>plants, path, idx, countries, fallbacks=['Unit'], tablename='', default=None, RestrictWarning=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_handler.html#UnitBasedTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_handler.UnitBasedTable" title="Permalink to this definition">¶</a></dt>
<dd><p>This function loads the tabular data stored in csv files and assigns the
proper values to each unit of the plants dataframe. If the unit-specific 
value is not found in the data, the script can fallback on more generic
data (e.g. fuel-based, technology-based, zone-based) or to the default value.
The order in which the data should be loaded is specified in the fallback
list. For example, [‘Unit’,’Technology’] means that the script will first
try to find a perfect match for the unit name in the data table. If not found,
a column with the unit technology as header is search. If not found, the
default value is assigned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>plants</strong> – Dataframe with the units for which data is required</li>
<li><strong>path</strong> – Path to the data to be loaded</li>
<li><strong>idx</strong> – Pandas datetime index to be used for the output</li>
<li><strong>countries</strong> – List with the country codes to be considered</li>
<li><strong>fallback</strong> – List with the order of data source.</li>
<li><strong>tablename</strong> – String with the name of the table being processed</li>
<li><strong>default</strong> – Default value to be applied if no data is found</li>
<li><strong>RestrictWarning</strong> – Only display the warnings if the unit belongs to the list of technologies provided in this parameter</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Dataframe with the time series for each unit</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_handler.define_parameter">
<code class="descclassname">DispaSET.preprocessing.data_handler.</code><code class="descname">define_parameter</code><span class="sig-paren">(</span><em>sets_in</em>, <em>sets</em>, <em>value=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_handler.html#define_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_handler.define_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to define a DispaSET parameter and fill it with a constant value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sets_in</strong> – List with the labels of the sets corresponding to the parameter</li>
<li><strong>sets</strong> – dictionary containing the definition of all the sets (must comprise those referenced in sets_in)</li>
<li><strong>value</strong> – Default value to attribute to the parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_handler.invert_dic_df">
<code class="descclassname">DispaSET.preprocessing.data_handler.</code><code class="descname">invert_dic_df</code><span class="sig-paren">(</span><em>dic</em>, <em>tablename=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_handler.html#invert_dic_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_handler.invert_dic_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that takes as input a dictionary of dataframes, and inverts the key of
the dictionary with the columns headers of the dataframes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dic</strong> – dictionary of dataframes, with the same columns headers and the same index</li>
<li><strong>tablename</strong> – string with the name of the table being processed (for the error msg)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary of dataframes, with swapped headers</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_handler.load_config_excel">
<code class="descclassname">DispaSET.preprocessing.data_handler.</code><code class="descname">load_config_excel</code><span class="sig-paren">(</span><em>ConfigFile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_handler.html#load_config_excel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_handler.load_config_excel" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that loads the DispaSET excel config file and returns a dictionary
with the values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ConfigFile</strong> – String with (relative) path to the DispaSET excel configuration file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_handler.load_config_yaml">
<code class="descclassname">DispaSET.preprocessing.data_handler.</code><code class="descname">load_config_yaml</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_handler.html#load_config_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_handler.load_config_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads YAML file to dictionary</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_handler.load_csv">
<code class="descclassname">DispaSET.preprocessing.data_handler.</code><code class="descname">load_csv</code><span class="sig-paren">(</span><em>filename</em>, <em>TempPath='.pickle'</em>, <em>header=0</em>, <em>skiprows=None</em>, <em>skipfooter=0</em>, <em>index_col=None</em>, <em>parse_dates=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_handler.html#load_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_handler.load_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that loads an xls sheet into a dataframe and saves a temporary pickle version of it.
If the pickle is newer than the sheet, do no load the sheet again.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_excel</strong> – path to the excel file</li>
<li><strong>TempPath</strong> – path to store the temporary data files</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_handler.merge_series">
<code class="descclassname">DispaSET.preprocessing.data_handler.</code><code class="descname">merge_series</code><span class="sig-paren">(</span><em>plants</em>, <em>data</em>, <em>mapping</em>, <em>method='WeightedAverage'</em>, <em>tablename=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_handler.html#merge_series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_handler.merge_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that merges the times series corresponding to the merged units (e.g. outages, inflows, etc.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>plants</strong> – Pandas dataframe with the information relative to the original units</li>
<li><strong>data</strong> – Pandas dataframe with the time series and the original unit names as column header</li>
<li><strong>mapping</strong> – Mapping between the merged units and the original units. Output of the clustering function</li>
<li><strong>method</strong> – Select the merging method (‘WeightedAverage’/’Sum’)</li>
<li><strong>tablename</strong> – Name of the table being processed (e.g. ‘Outages’), used in the warnings</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return merged:</th><td class="field-body"><p class="first last">Pandas dataframe with the merged time series when necessary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.data_handler.write_to_excel">
<code class="descclassname">DispaSET.preprocessing.data_handler.</code><code class="descname">write_to_excel</code><span class="sig-paren">(</span><em>xls_out</em>, <em>list_vars</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/data_handler.html#write_to_excel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.data_handler.write_to_excel" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that reads all the variables (in list_vars) and inserts them one by one to excel</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xls_out</strong> – The path of the folder where the excel files are to be written</li>
<li><strong>list_vars</strong> – List containing the dispaset variables</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Binary variable (True)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-DispaSET.preprocessing.preprocessing">
<span id="dispaset-preprocessing-preprocessing-module"></span><h2>DispaSET.preprocessing.preprocessing module<a class="headerlink" href="#module-DispaSET.preprocessing.preprocessing" title="Permalink to this headline">¶</a></h2>
<p>This is the main file of the DispaSET pre-processing tool. It comprises a single function that generated the DispaSET simulation environment.</p>
<p>&#64;author: S. Quoilin</p>
<dl class="function">
<dt id="DispaSET.preprocessing.preprocessing.adjust_capacity">
<code class="descclassname">DispaSET.preprocessing.preprocessing.</code><code class="descname">adjust_capacity</code><span class="sig-paren">(</span><em>inputs</em>, <em>tech_fuel</em>, <em>scaling=1</em>, <em>value=None</em>, <em>singleunit=False</em>, <em>write_gdx=False</em>, <em>dest_path=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/preprocessing.html#adjust_capacity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.preprocessing.adjust_capacity" title="Permalink to this definition">¶</a></dt>
<dd><p>Function used to modify the installed capacities in the Dispa-SET generated input data
The function update the Inputs.p file in the simulation directory at each call</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inputs</strong> – Input data dictionnary OR path to the simulation directory containing Inputs.p</li>
<li><strong>tech_fuel</strong> – tuple with the technology and fuel type for which the capacity should be modified</li>
<li><strong>scaling</strong> – Scaling factor to be applied to the installed capacity</li>
<li><strong>value</strong> – Absolute value of the desired capacity (! Applied only if scaling != 1 !)</li>
<li><strong>singleunit</strong> – Set to true if the technology should remain lumped in a single unit</li>
<li><strong>write_gdx</strong> – boolean defining if Inputs.gdx should be also overwritten with the new data</li>
<li><strong>dest_path</strong> – Simulation environment path to write the new input data. If unspecified, no data is written!</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">New SimData dictionnary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.preprocessing.adjust_storage">
<code class="descclassname">DispaSET.preprocessing.preprocessing.</code><code class="descname">adjust_storage</code><span class="sig-paren">(</span><em>inputs</em>, <em>tech_fuel</em>, <em>scaling=1</em>, <em>value=None</em>, <em>write_gdx=False</em>, <em>dest_path=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/preprocessing.html#adjust_storage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.preprocessing.adjust_storage" title="Permalink to this definition">¶</a></dt>
<dd><p>Function used to modify the storage capacities in the Dispa-SET generated input data
The function update the Inputs.p file in the simulation directory at each call</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inputs</strong> – Input data dictionnary OR path to the simulation directory containing Inputs.p</li>
<li><strong>tech_fuel</strong> – tuple with the technology and fuel type for which the capacity should be modified</li>
<li><strong>scaling</strong> – Scaling factor to be applied to the installed capacity</li>
<li><strong>value</strong> – Absolute value of the desired capacity (! Applied only if scaling != 1 !)</li>
<li><strong>write_gdx</strong> – boolean defining if Inputs.gdx should be also overwritten with the new data</li>
<li><strong>dest_path</strong> – Simulation environment path to write the new input data. If unspecified, no data is written!</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">New SimData dictionnary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.preprocessing.build_simulation">
<code class="descclassname">DispaSET.preprocessing.preprocessing.</code><code class="descname">build_simulation</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/preprocessing.html#build_simulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.preprocessing.build_simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the DispaSET config, loads the specified data,
processes it when needed, and formats it in the proper DispaSET format.
The output of the function is a directory with all inputs and simulation files required to run a DispaSET simulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>config</strong> – Dictionary with all the configuration fields loaded from the excel file. Output of the ‘LoadConfig’ function.</li>
<li><strong>plot_load</strong> – Boolean used to display a plot of the demand curves in the different zones</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.preprocessing.get_git_revision_tag">
<code class="descclassname">DispaSET.preprocessing.preprocessing.</code><code class="descname">get_git_revision_tag</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/preprocessing.html#get_git_revision_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.preprocessing.get_git_revision_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Get version of DispaSET used for this run. tag + commit hash</p>
</dd></dl>

</div>
<div class="section" id="module-DispaSET.preprocessing.utils">
<span id="dispaset-preprocessing-utils-module"></span><h2>DispaSET.preprocessing.utils module<a class="headerlink" href="#module-DispaSET.preprocessing.utils" title="Permalink to this headline">¶</a></h2>
<p>This file gathers different functions used in the DispaSET pre-processing tools</p>
<p>&#64;author: Sylvain Quoilin (<a class="reference external" href="mailto:sylvain&#46;quoilin&#37;&#52;&#48;ec&#46;europa&#46;eu">sylvain<span>&#46;</span>quoilin<span>&#64;</span>ec<span>&#46;</span>europa<span>&#46;</span>eu</a>)</p>
<dl class="function">
<dt id="DispaSET.preprocessing.utils.clustering">
<code class="descclassname">DispaSET.preprocessing.utils.</code><code class="descname">clustering</code><span class="sig-paren">(</span><em>plants</em>, <em>method='Standard'</em>, <em>Nslices=20</em>, <em>PartLoadMax=0.1</em>, <em>Pmax=30</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/utils.html#clustering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.utils.clustering" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge excessively disaggregated power Units.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>plants</strong> – Pandas dataframe with each power plant and their characteristics (following the DispaSET format)</li>
<li><strong>method</strong> – Select clustering method (‘Standard’/’LP’/None)</li>
<li><strong>Nslices</strong> – Number of slices used to fingerprint each power plant characteristics. slices in the power plant data to categorize them  (fewer slices involves that the plants will be aggregated more easily)</li>
<li><strong>PartLoadMax</strong> – Maximum part-load capability for the unit to be clustered</li>
<li><strong>Pmax</strong> – Maximum power for the unit to be clustered</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list with the merged plants and the mapping between the original and merged units</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.utils.incidence_matrix">
<code class="descclassname">DispaSET.preprocessing.utils.</code><code class="descname">incidence_matrix</code><span class="sig-paren">(</span><em>sets</em>, <em>set_used</em>, <em>parameters</em>, <em>param_used</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/utils.html#incidence_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.utils.incidence_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>This function generates the incidence matrix of the lines within the nodes
A particular case is considered for the node “Rest Of the World”, which is no explicitely defined in DispaSET</p>
</dd></dl>

<dl class="function">
<dt id="DispaSET.preprocessing.utils.interconnections">
<code class="descclassname">DispaSET.preprocessing.utils.</code><code class="descname">interconnections</code><span class="sig-paren">(</span><em>Simulation_list</em>, <em>NTC_inter</em>, <em>Historical_flows</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DispaSET/preprocessing/utils.html#interconnections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DispaSET.preprocessing.utils.interconnections" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that checks for the possible interconnections of the countries included
in the simulation. If the interconnections occurs between two of the countries
defined by the user to perform the simulation with, it extracts the NTC between
those two countries. If the interconnection occurs between one of the countries
selected by the user and one country outside the simulation, it extracts the
physical flows; it does so for each pair (country inside-country outside) and
sums them together creating the interconnection of this country with the RoW.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Simulation_list</strong> – List of simulated countries</li>
<li><strong>NTC</strong> – Day-ahead net transfer capacities (pd dataframe)</li>
<li><strong>Historical_flows</strong> – Historical flows (pd dataframe)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-DispaSET.preprocessing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-DispaSET.preprocessing" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="DispaSET.pyomo.html" class="btn btn-neutral float-right" title="DispaSET.pyomo package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="DispaSET.postprocessing.html" class="btn btn-neutral" title="DispaSET.postprocessing package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Sylvain Quoilin &amp; Kostas Kavvadias

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>